set -e

use_asdf() {
  # Load if not loaded already
  if [[ ! -v ASDF_DIR ]]; then
    if [[ -s "$HOME/.asdf/asdf.sh" ]]; then
      . "$HOME/.asdf/asdf.sh"
      if [[ -s $HOME/.asdf/completions/asdf.bash ]]; then
        . "$HOME/.asdf/completions/asdf.bash"
      fi
    fi
  fi
}

asdf() {
  unset asdf
  asdf "$@"
}

use_pipx() {
  if ! has pipx; then
    if has python3; then
      python3 -m pip install --user pipx
      python3 -m pipx ensurepath
    else
      echo "Python 3 version 3.6 or higher required for PipX"
    fi
  fi
}

use_sdk() {
  # Load if not loaded already
  if [[ -s "${SDKMAN_DIR}/bin/sdkman-init.sh" ]]; then
    . "${SDKMAN_DIR}/bin/sdkman-init.sh"
  fi
}

sdk() {
  unset sdk
  sdk "$@"
}
